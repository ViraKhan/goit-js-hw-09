{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = \"feedback-form-state\";\nconst form = document.querySelector(\".feedback-form\");\nlet formData = {\n  email: \"\",\n  message: \"\",\n};\n\n  form.addEventListener(\"input\", onFormInput);\n  form.addEventListener(\"submit\", handleSubmit);\n  populateForm();\n  // Save the form data to localStorage\n  function onFormInput(event) {\n    const { name, value } = event.target;\n\n  if (name === \"email\" || name === \"message\") {\n    formData[name] = value.trim();\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n    }\n  }\n\n  \n  //  Submit button / reset\n  function handleSubmit(event) {\n    event.preventDefault();\n    \n    const { email, message } = formData;\n    \n    if (email === \"\" || message === \"\") {\n    alert(\"Fill please all fields\");\n    return;\n  }\n  console.log(formData);\n\n    form.reset();\n    localStorage.removeItem(STORAGE_KEY);\n    formData = {\n      email: \"\",\n      message: \"\",\n    };\n  }\n\n  // fill the form\n  function populateForm() {\n    const savedData = localStorage.getItem(STORAGE_KEY);\n    if (!savedData) return;\n    \n    try {\n        const parsedData = JSON.parse(savedData);\n\n    if (parsedData.email) {\n      form.elements.email.value = parsedData.email;\n      formData.email = parsedData.email;\n    }\n\n    if (parsedData.message) {\n      form.elements.message.value = parsedData.message;\n      formData.message = parsedData.message;\n    }\n  } catch (err) {\n    console.error(\"Error parsing localStorage data:\", err);\n  }\n}"],"names":["STORAGE_KEY","form","formData","onFormInput","handleSubmit","populateForm","event","name","value","email","message","savedData","parsedData","err"],"mappings":"wFAAA,MAAMA,EAAc,sBACdC,EAAO,SAAS,cAAc,gBAAgB,EACpD,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEED,EAAK,iBAAiB,QAASE,CAAW,EAC1CF,EAAK,iBAAiB,SAAUG,CAAY,EAC5CC,IAEA,SAASF,EAAYG,EAAO,CAC1B,KAAM,CAAE,KAAAC,EAAM,MAAAC,GAAUF,EAAM,QAE5BC,IAAS,SAAWA,IAAS,aAC/BL,EAASK,CAAI,EAAIC,EAAM,KAAI,EAC3B,aAAa,QAAQR,EAAa,KAAK,UAAUE,CAAQ,CAAC,EAE3D,CAID,SAASE,EAAaE,EAAO,CAC3BA,EAAM,eAAc,EAEpB,KAAM,CAAE,MAAAG,EAAO,QAAAC,CAAS,EAAGR,EAE3B,GAAIO,IAAU,IAAMC,IAAY,GAAI,CACpC,MAAM,wBAAwB,EAC9B,MACD,CACD,QAAQ,IAAIR,CAAQ,EAElBD,EAAK,MAAK,EACV,aAAa,WAAWD,CAAW,EACnCE,EAAW,CACT,MAAO,GACP,QAAS,EACf,CACG,CAGD,SAASG,GAAe,CACtB,MAAMM,EAAY,aAAa,QAAQX,CAAW,EAClD,GAAKW,EAEL,GAAI,CACA,MAAMC,EAAa,KAAK,MAAMD,CAAS,EAEvCC,EAAW,QACbX,EAAK,SAAS,MAAM,MAAQW,EAAW,MACvCV,EAAS,MAAQU,EAAW,OAG1BA,EAAW,UACbX,EAAK,SAAS,QAAQ,MAAQW,EAAW,QACzCV,EAAS,QAAUU,EAAW,QAEjC,OAAQC,EAAK,CACZ,QAAQ,MAAM,mCAAoCA,CAAG,CACtD,CACH"}